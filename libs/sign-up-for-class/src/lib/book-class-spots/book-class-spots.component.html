<section class="home-section container" fxLayout="column" *ngIf="danceClass">
  <mat-card
    fxLayout="column"
    fxLayout.gt-xs="row"
    fxLayoutAlign="space-between start"
    fxLayoutAlign.gt-xs="space-around center"
  >
    <div
      *ngIf="allowChangeDatesAndNumberOfGuests"
      class="controls-column"
      fxLayout="column"
      fxLayoutAlign.lt-sm="center stretch"
    >
      <span fxLayout fxLayoutAlign="space-around stretch">
        <mat-icon
          class="mat-icon-mobile"
          fxShow
          fxHide.gt-sm
          matDatepickerToggleIcon
          fxFlex
          >chevron_left</mat-icon
        >
        <mat-form-field
          class="date-field"
          appearance="outline"
          fxFlex.lt-md="60"
        >
          <mat-label>Choose a date</mat-label>
          <input
            matInput
            [matDatepicker]="picker"
            [formControl]="initialDate"
          />
          <mat-datepicker-toggle
            matSuffix
            [for]="picker"
          ></mat-datepicker-toggle>
          <mat-datepicker-toggle
            fxHide
            fxShow.gt-sm
            matSuffix
            (click)="previousDate()"
          >
            <mat-icon matDatepickerToggleIcon>chevron_left</mat-icon>
          </mat-datepicker-toggle>
          <mat-datepicker-toggle
            fxHide
            fxShow.gt-sm
            matSuffix
            (click)="nextDate()"
          >
            <mat-icon matDatepickerToggleIcon>chevron_right</mat-icon>
          </mat-datepicker-toggle>
          <mat-datepicker #picker></mat-datepicker>
        </mat-form-field>
        <mat-icon
          class="mat-icon-mobile"
          fxShow
          fxFlex
          fxHide.gt-sm
          matDatepickerToggleIcon
          >chevron_right</mat-icon
        >
      </span>

      <span fxLayout fxLayoutAlign="center center">
        <mat-form-field
          class="number-of-guests-field"
          appearance="outline"
          fxFlex.gt-sm="100"
          fxFlex.lt-md="60"
        >
          <mat-label>Number of Guests</mat-label>
          <mat-select [(value)]="selected" required>
            <mat-option
              *ngFor="let number of numberOfGuestsOptions"
              [value]="number"
            >
              {{ number }}
            </mat-option>
          </mat-select>
        </mat-form-field>
      </span>
    </div>

    <h3 class="mobile-class-title" fxShow fxHide.gt-xs>
      {{ danceClass.title }}
    </h3>

    <mat-list class="first-info-column" fxHide fxShow.gt-xs>
      <mat-list-item>
        <mat-icon mat-list-icon color="primary">groups</mat-icon>
        <h5 matLine><b>Class</b></h5>
        <p matLine>{{ danceClass.title }}</p>
      </mat-list-item>
      <mat-list-item>
        <mat-icon mat-list-icon color="primary">person</mat-icon>
        <h5 matLine><b>Instructor</b></h5>
        <p matLine>{{ danceClass.instructor }}</p>
      </mat-list-item>
    </mat-list>

    <mat-list class="second-info-column">
      <mat-list-item>
        <mat-icon mat-list-icon color="primary">access_time</mat-icon>
        <h5 matLine><b>When</b></h5>
        <p matLine>{{ nextClassDate }}</p>
        <p matLine>{{ danceClass.timeDisplay }}</p>
      </mat-list-item>
      <mat-list-item>
        <mat-icon mat-list-icon color="primary">location_on</mat-icon>
        <h5 matLine><b>Where</b></h5>
        <p matLine>7640 NW 25th ST #110</p>
        <p matLine>Miami, Florida 33122</p>
      </mat-list-item>
    </mat-list>
  </mat-card>

  <swagex-floor-spot-selection
    [bookedSpaces]="danceClass.spacesBooked"
    (onSpaceSelection)="onSpaceSelection($event)"
  ></swagex-floor-spot-selection>
</section>
